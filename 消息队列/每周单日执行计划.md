# 消息队列 每周单日执行计划（16 周，3–4 小时/次）

> 与《消息队列学习路径》《按周迭代学习排期》对齐；每周一次 3–4 小时，形成最小可运行与验收。

## 第 1 周｜环境与最小可运行（单次 3–4h）
- 目标：搭建 Kafka/RabbitMQ（任选/组合）并跑通生产消费。
- 当次任务：本地/容器化部署；创建主题/队列；简单生产/消费；健康检查。
- 验收：消息往返成功；监控端点可用。
- 产出物：启动脚本与示例代码。

## 第 2 周｜生产者/消费者与确认（单次 3–4h）
- 目标：可靠投递与处理确认。
- 当次任务：同步/异步发布；ACK/NACK；幂等键与去重策略。
- 验收：重复消息正确处理；丢失率 0。
- 产出物：确认与去重示例。

## 第 3 周｜重试与死信队列（单次 3–4h）
- 目标：失败处理与退避重试。
- 当次任务：固定/指数退避；DLQ；回放与报警。
- 验收：失败重试策略生效；报警触发正确。
- 产出物：重试/死信策略与脚本。

## 第 4 周｜顺序与分区（单次 3–4h）
- 目标：顺序一致与分区策略。
- 当次任务：键控有序；分区与键哈希；乱序校正。
- 验收：有序场景正确；吞吐与延迟可控。
- 产出物：顺序测试与结论。

## 第 5 周｜消费组与扩展性（单次 3–4h）
- 目标：水平扩展与负载均衡。
- 当次任务：消费组与再均衡；并发消费；背压与限速。
- 验收：扩容后稳态吞吐提升；无堆积。
- 产出物：扩展性报告与配置。

## 第 6 周｜消息格式与兼容性（单次 3–4h）
- 目标：Schema 治理与演进。
- 当次任务：Avro/JSON/Protobuf 对比；Schema Registry；版本兼容策略。
- 验收：演进兼容；生产/消费无破坏。
- 产出物：Schema 文档与示例。

## 第 7 周｜事务与一致性（单次 3–4h）
- 目标：事务性发布/处理与最终一致。
- 当次任务：生产者事务（Kafka）；Outbox/Saga；去重与幂等。
- 验收：并发下最终一致；无重复副作用。
- 产出物：事务/一致性方案与演示。

## 第 8 周｜流式处理与窗口（单次 3–4h）
- 目标：实时处理与聚合。
- 当次任务：Kafka Streams/Flink（任选）；窗口/聚合；状态管理。
- 验收：实时统计正确；延迟达标。
- 产出物：流处理管道与报告。

## 第 9 周｜监控与告警（单次 3–4h）
- 目标：可观测性与稳定性治理。
- 当次任务：滞留/延迟/速率指标；端到端追踪；告警阈值与演练。
- 验收：异常可被及时发现；告警噪音可控。
- 产出物：面板与告警策略。

## 第 10 周｜安全与权限（单次 3–4h）
- 目标：认证/授权与安全基线。
- 当次任务：SASL/TLS；最小权限；密钥管理与轮换。
- 验收：安全扫描通过；高危操作受控。
- 产出物：安全清单与配置。

## 第 11 周｜成本与容量规划（单次 3–4h）
- 目标：资源与成本权衡。
- 当次任务：分区/副本规划；磁盘与网络；成本估算。
- 验收：规划清晰；预算合理。
- 产出物：容量与成本报告。

## 第 12 周｜运维与自动化（单次 3–4h）
- 目标：例行运维自动化。
- 当次任务：巡检/清理/扩缩容脚本；审计与报表。
- 验收：自动任务执行正确；审计可追溯。
- 产出物：运维脚本与手册。

## 第 13 周｜多数据中心与容灾（单次 3–4h）
- 目标：跨地域容灾思路与演练。
- 当次任务：跨机房同步；故障切换；一致性评估。
- 验收：RTO/RPO 满足目标。
- 产出物：容灾方案与记录。

## 第 14 周｜端到端可靠性（单次 3–4h）
- 目标：链路可靠与降级策略。
- 当次任务：链路追踪；幂等/重试/熔断；降级路径演示。
- 验收：故障注入下仍可用；指标达标。
- 产出物：可靠性报告与演示。

## 第 15 周｜交付与发布（单次 3–4h）
- 目标：自动化发布与回滚演练。
- 当次任务：发布流水线；蓝绿/灰度；回滚与健康检查。
- 验收：零停机发布；回滚演练通过。
- 产出物：流水线配置与 Runbook。

## 第 16 周｜综合里程碑交付（单次 3–4h）
- 目标：综合验收与演示。
- 当次任务：性能/可靠性/安全联合审计与修复；演示录制。
- 验收：SLO 达标；文档完整。
- 产出物：里程碑报告与视频。